<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  

  <link rel="shortcut icon" href="https://docs.linuxfactory.or.kr/assets/img/favicon.ico">

  <title>Kernel mode setting - Linux Factory</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />
  <link rel="stylesheet" href="https://docs.linuxfactory.or.kr/assets/css/theme.css" />
  <link rel="stylesheet" href="https://docs.linuxfactory.or.kr/assets/css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css" />
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="https://docs.linuxfactory.or.kr/pages/tobetter/tobetter.github.io" class="icon icon-home"> Linux Factory</a>
          <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="/search.html" method="get">
    <input type="text" name="q" id="search-query" placeholder="Search docs" title="Type search term here" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/">LinuxFactory</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/feed.xml"></a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/sitemap.xml"></a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/robots.txt"></a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">faq</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/faq/README.html">FAQ</a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">guides</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/README.html">Guides</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/compile_kernel.html">Custom Linux kernel</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/gpu_bifrost.html">GPU Acceleration with ARM Mali Bifrost</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/gpu_panfrost.html">GPU Acceleration with ARM Mali Panfrost</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/kernel_log.html">Kernel message through UART debugging port</a>
                    </li>
                </ul><ul>
  <li class="toctree-l1 current"><a href="#kernel-mode-setting">Kernel mode setting</a>
    <ul>
      <li class="toctree-l2"><a href="#prerequisites">Prerequisites</a>
        <ul>
          <li class="toctree-l3"><a href="#edid-binary">EDID binary</a></li>
        </ul>
      </li>
      <li class="toctree-l2"><a href="#apply-new-resolution">Apply new resolution</a></li>
    </ul>
  </li>
</ul>

                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/nas_omv5.html">NAS with OpenMediaVault</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/overclock.html">CPU/GPU frequency and governor</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/sensors.html">Sensors</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/usb_wifi.html">Installing USB WiFi driver</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/zfs.html">The Z File System (ZFS)</a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">install</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/netboot_installer.html">Netboot Installer</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidc4/image.html">ODROID-C4/HC4</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidhc4/image.html">ODROID-HC4</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidn2/image.html">ODROID-N2 / ODROID-N2Plus</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidn2l/image.html">ODROID-N2L</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidxu4/image.html">ODROID-XU4/HC1/HC2</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/prebuilt_image.html">Prebuilt OS Image</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/">Debian/Ubuntu Installation</a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">troubles</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/troubles/README.html">Troubles</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/troubles/gnome_terminal_not_opening.html">‘Gnome Terminal’ does not open</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/troubles/network_wired_unmanaged.html">‘Authentication Required’ when open the network setting</a>
                    </li>
                </ul>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://docs.linuxfactory.or.kr/pages/tobetter/tobetter.github.io">Linux Factory</a>
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
        <li><a href="https://docs.linuxfactory.or.kr/pages/tobetter/tobetter.github.io">Docs</a>&raquo;</li>
        <li>Guides &raquo;</li>
        <li>Kernel mode setting</li>
    <li class="wy-breadcrumbs-aside">
        <a href="/blob/master/guides/kmsdrm.md" class="icon icon-github" target="_blank"> Edit on GitHub</a>
    </li>
  </ul>

  <hr/>
</div>

          <div role="main">
            <div class="section">
              <h1 id="kernel-mode-setting">Kernel mode setting</h1>

<p>Kernel mode setting (KMS) is a method to set the display resolution in the
Linux kernel during boot up, this method also effectly work when:</p>
<ul>
  <li>you want to set the display mode with specific resolution</li>
  <li>the display device is old</li>
  <li>EDID data is corrupted or it contains incorrect one</li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>
<h3 id="edid-binary">EDID binary</h3>

<p>You need to download and install the EDID binary file to your Linux. Please open
the link to find out the supported EDID binaries.
https://github.com/akatrevorjay/edid-generator</p>

<p>Please run these commands to download the display resolution for 1920x1080.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /usr/lib/firmware/edid/
<span class="nv">$ </span><span class="nb">sudo </span>wget https://github.com/akatrevorjay/edid-generator/blob/master/1920x1080.bin <span class="nt">-P</span> /usr/lib/firmware/edid
</code></pre></div></div>
<h2 id="apply-new-resolution">Apply new resolution</h2>
<p>In order to apply the new display resolution with this method, the boot script
must be updated with a kernel parameter that specify the display resoltuion so that
the Linux kernel loads the EDID binary on booting.</p>

<p>Add this line to <strong>/usr/share/flash-kernel/ubootenv.d/upstream/90-misc</strong> to select the display resolution as 1920x1080.</p>
<blockquote>
  <p>setenv bootargs “${bootargs} drm_kms_helper.edid_firmware=HDMI-A-1:edid/1920x1080.bin”</p>
</blockquote>

<p>So, the file <strong>/usr/share/flash-kernel/ubootenv.d/upstream/90-misc</strong> must be like this.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat</span> /usr/share/flash-kernel/ubootenv.d/upstream/90-misc 
setenv bootargs <span class="s2">"</span><span class="k">${</span><span class="nv">bootargs</span><span class="k">}</span><span class="s2"> cma=800M"</span>
setenv bootargs <span class="s2">"</span><span class="k">${</span><span class="nv">bootargs</span><span class="k">}</span><span class="s2"> clk_ignore_unused"</span>
setenv bootargs <span class="s2">"</span><span class="k">${</span><span class="nv">bootargs</span><span class="k">}</span><span class="s2"> drm_kms_helper.edid_firmware=HDMI-A-1:edid/1920x1080.bin"</span>
</code></pre></div></div>

<p>Then update the boot script to apply the change and reboot.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>update-bootscript
<span class="nv">$ </span><span class="nb">sudo </span>reboot
</code></pre></div></div>



            </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
      <p>
            <span class="commit">Revision <code>37100fb1</code>.</span>
      </p>
    </div>
    Built with
    <a href="https://pages.github.com" target="_blank">GitHub Pages</a>
    using a <a href="https://github.com/carlosperate/jekyll-theme-rtd" target="_blank">theme</a>
    based on <a href="https://sphinx-rtd-theme.readthedocs.io" target="_blank">Read the Docs</a>.
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span><a href="https://docs.linuxfactory.or.kr/guides/kernel_log.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
        <span style="margin-left: 15px"><a href="https://docs.linuxfactory.or.kr/guides/nas_omv5.html" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>


  <script>var base_url = '';</script>
  <script src="https://docs.linuxfactory.or.kr/assets/js/jquery-2.1.1.min.js" defer></script>
  <script src="https://docs.linuxfactory.or.kr/assets/js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://docs.linuxfactory.or.kr/assets/js/theme.js" defer></script>
  <script type="text/javascript" defer>
    hljs.initHighlightingOnLoad();
    window.addEventListener('load', function() {
      SphinxRtdTheme.Navigation.enable(false);
    });
  </script>
  <!-- Build Date: 2025-09-30 05:14 -->
</body>
</html>
