<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  

  <link rel="shortcut icon" href="https://docs.linuxfactory.or.kr/assets/img/favicon.ico">

  <title>Sensors - Linux Factory</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />
  <link rel="stylesheet" href="https://docs.linuxfactory.or.kr/assets/css/theme.css" />
  <link rel="stylesheet" href="https://docs.linuxfactory.or.kr/assets/css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css" />
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="https://docs.linuxfactory.or.kr/pages/tobetter/tobetter.github.io" class="icon icon-home"> Linux Factory</a>
          <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="/search.html" method="get">
    <input type="text" name="q" id="search-query" placeholder="Search docs" title="Type search term here" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/">LinuxFactory</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/feed.xml"></a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/sitemap.xml"></a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/robots.txt"></a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">faq</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/faq/README.html">FAQ</a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">guides</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/README.html">Guides</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/compile_kernel.html">Custom Linux kernel</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/gpu_bifrost.html">GPU Acceleration with ARM Mali Bifrost</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/gpu_panfrost.html">GPU Acceleration with ARM Mali Panfrost</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/kernel_log.html">Kernel message through UART debugging port</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/kmsdrm.html">Kernel mode setting</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/nas_omv5.html">NAS with OpenMediaVault</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/overclock.html">CPU/GPU frequency and governor</a>
                    </li>
                </ul><ul>
  <li class="toctree-l1 current"><a href="#sensors">Sensors</a>
    <ul>
      <li class="toctree-l2"><a href="#background">Background</a></li>
      <li class="toctree-l2"><a href="#read-sensors">Read sensors</a></li>
      <li class="toctree-l2"><a href="#fanspeed-control">Fanspeed control</a>
      - {:.toctree-l4} <a href="#automatic-mode">Automatic mode</a>
      - {:.toctree-l4} <a href="#manual-mode">Manual mode</a>
      - {:.toctree-l4} <a href="#maximum-mode">Maximum mode</a></li>
      <li class="toctree-l2"><a href="#fanspeed-control-using-fancontrol">Fanspeed control using ‘fancontrol’</a>
        <ul>
          <li class="toctree-l3"><a href="#sample-config-for-odroid-hc4-fan">Sample config for ODROID-HC4 fan</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/usb_wifi.html">Installing USB WiFi driver</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/guides/zfs.html">The Z File System (ZFS)</a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">install</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/netboot_installer.html">Netboot Installer</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidc4/image.html">ODROID-C4/HC4</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidhc4/image.html">ODROID-HC4</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidn2/image.html">ODROID-N2 / ODROID-N2Plus</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidn2l/image.html">ODROID-N2L</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/odroidxu4/image.html">ODROID-XU4/HC1/HC2</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/prebuilt_image.html">Prebuilt OS Image</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/install/">Debian/Ubuntu Installation</a>
                    </li>
                </ul>
    <p class="caption"><span class="caption-text">troubles</span></p>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/troubles/README.html">Troubles</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/troubles/gnome_terminal_not_opening.html">‘Gnome Terminal’ does not open</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1">
                        <a class="reference internal" href="https://docs.linuxfactory.or.kr/troubles/network_wired_unmanaged.html">‘Authentication Required’ when open the network setting</a>
                    </li>
                </ul>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://docs.linuxfactory.or.kr/pages/tobetter/tobetter.github.io">Linux Factory</a>
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
        <li><a href="https://docs.linuxfactory.or.kr/pages/tobetter/tobetter.github.io">Docs</a>&raquo;</li>
        <li>Guides &raquo;</li>
        <li>Sensors</li>
    <li class="wy-breadcrumbs-aside">
        <a href="/blob/master/guides/sensors.md" class="icon icon-github" target="_blank"> Edit on GitHub</a>
    </li>
  </ul>

  <hr/>
</div>

          <div role="main">
            <div class="section">
              <h1 id="sensors">Sensors</h1>

<h2 id="background">Background</h2>
<p>In order to read the sensors on your board, the package <strong>lm-sensors</strong> must be installed.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt update
<span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>lm-sensors
</code></pre></div></div>

<h2 id="read-sensors">Read sensors</h2>
<p>After installing the package ‘lm-sensros’, the sensors of your ODROID can be read with the command <code class="language-plaintext highlighter-rouge">sensors</code>. This command will show the current temperatures provided by CPU itself. The fan speed also can be provided when cooling fan is attached only when it provides TACH signals.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>sensors
pwmfan-isa-0000
Adapter: ISA adapter
Default Fan: 3017 RPM

cpu_thermal-virtual-0
Adapter: Virtual device
CPU Temp:     +37.7°C  <span class="o">(</span>crit <span class="o">=</span> +110.0°C<span class="o">)</span>

ddr_thermal-virtual-0
Adapter: Virtual device
DDR Temp:     +39.0°C  <span class="o">(</span>crit <span class="o">=</span> +110.0°C<span class="o">)</span>
</code></pre></div></div>

<p><img src="https://forum.odroid.com/download/file.php?id=12919" alt="forum" /></p>

<h2 id="fanspeed-control">Fanspeed control</h2>
<p>Cooling fan speed can be controlled in 3 modes - Automatic/Manual/Maximum - and one needs to access sysfs node with granted permission since changing the fan speed can.</p>

<h4 id="automatic-mode">Automatic mode</h4>
<p>The fan speed is set by Linux kernel as defined cooling point in the device tree, this is the default.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo </span>2 | <span class="nb">sudo tee</span> /sys/class/hwmon/hwmon0/pwm1_enable
</code></pre></div></div>

<h4 id="manual-mode">Manual mode</h4>
<p>This mode is to set the fan speed manually by a user or a service in the userspace and predefined cooling point in the kernel space will be completely ignored. So mode could be harm if the fan speed is not properly managed whenever CPU temperature is changed. The range of fan speed is from 0 to 255 where 0 as turn off and 255 as maximum speed.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo </span>1 | <span class="nb">sudo tee</span> /sys/class/hwmon/hwmon0/pwm1_enable
<span class="nv">$ </span><span class="nb">echo </span>128 | <span class="nb">sudo tee</span> /sys/class/hwmon/hwmon0/pwm1
</code></pre></div></div>

<h4 id="maximum-mode">Maximum mode</h4>
<p>This mode is to set the fan speed at its maximum speed until the fan speed mode is changed to ‘Automatic’ or ‘Manual’.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo </span>0 | <span class="nb">sudo tee</span> /sys/class/hwmon/hwmon0/pwm1_enable
</code></pre></div></div>

<h2 id="fanspeed-control-using-fancontrol">Fanspeed control using ‘fancontrol’</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt update
<span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>fancontrol
</code></pre></div></div>

<p>To make sure fancontrol is started at system startup enable the service.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>fancontrol
</code></pre></div></div>

<p>Fancontrol can be configured using pwmconfig. It provides a guided questionaire for tuning the fan speed. The configuration should be saved to <code class="language-plaintext highlighter-rouge">/etc/fancontrol</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>pwmconfig
</code></pre></div></div>

<p>Once the configuration has been saved, restart the fancontrol service to apply changes.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl restart fancontrol
</code></pre></div></div>

<h3 id="sample-config-for-odroid-hc4-fan">Sample config for ODROID-HC4 fan</h3>

<p>The following fancontrol configuration was created for an ODROID-HC4 (<code class="language-plaintext highlighter-rouge">/etc/fancontrol</code>)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># !!!USE AT YOUR OWN RISK!!! Configuration file generated by pwmconfig
INTERVAL=10
DEVPATH=hwmon0=devices/virtual/thermal/thermal_zone0 hwmon2=devices/platform/pwm-fan
DEVNAME=hwmon0=cpu_thermal hwmon2=pwmfan
FCTEMPS= hwmon2/pwm1=hwmon0/temp1_input
FCFANS= hwmon2/pwm1=hwmon2/fan1_input
MINTEMP= hwmon2/pwm1=35
MAXTEMP= hwmon2/pwm1=70
MINSTART= hwmon2/pwm1=10
MINSTOP= hwmon2/pwm1=10
MINPWM= hwmon2/pwm1=10
</code></pre></div></div>

<p>With an ambiant temperature of 22 °C these settings keep the max temp at ~53.8 °C during <code class="language-plaintext highlighter-rouge">sysbench cpu run --cpu-max-prime=100000000 --threads=4</code> which ran for 397 seconds, thus ensuring saturation. During the run the fan spins up to ~2800 RPM producing a slightly noticable but not in any way annoying hum. When idle (serving an instance of NextcloudPi to ~5 users, mdadm software RAID 1, 2 Seagate Ironwolf HDDs) the CPU temperature hovered around 47 °C with the fan inaudible at ~1600 RPM. <em>All temperatures and RPM measurements were acquired with lm-sensors</em></p>



            </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
      <p>
            <span class="commit">Revision <code>f635bb00</code>.</span>
      </p>
    </div>
    Built with
    <a href="https://pages.github.com" target="_blank">GitHub Pages</a>
    using a <a href="https://github.com/carlosperate/jekyll-theme-rtd" target="_blank">theme</a>
    based on <a href="https://sphinx-rtd-theme.readthedocs.io" target="_blank">Read the Docs</a>.
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span><a href="https://docs.linuxfactory.or.kr/guides/overclock.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
        <span style="margin-left: 15px"><a href="https://docs.linuxfactory.or.kr/guides/usb_wifi.html" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>


  <script>var base_url = '';</script>
  <script src="https://docs.linuxfactory.or.kr/assets/js/jquery-2.1.1.min.js" defer></script>
  <script src="https://docs.linuxfactory.or.kr/assets/js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://docs.linuxfactory.or.kr/assets/js/theme.js" defer></script>
  <script type="text/javascript" defer>
    hljs.initHighlightingOnLoad();
    window.addEventListener('load', function() {
      SphinxRtdTheme.Navigation.enable(false);
    });
  </script>
  <!-- Build Date: 2025-09-30 05:16 -->
</body>
</html>
